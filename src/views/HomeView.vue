<template>
  <!-- æ ‡é¢˜ -->
  <h1 class="text-3xl font-bold text-center">AIå†›å¸ˆ</h1>

  <!-- ä¸Šä¼ åŒºåŸŸ -->
  <div class="a">
    <ImageUploader
      name="chat-image"
      :acceptedFileTypes="['image/png', 'image/jpeg']"
      label="ç‚¹å‡»ä¸Šä¼ æˆªå›¾ æˆ– æ‹–å…¥èŠå¤©è®°å½• ğŸ“¤"
      maxFileSize="5MB"
      stylePanelAspectRatio="9:16"
      @upload="handleUploadedFile"
    />
  </div>

  <div class="b">
    <ChatEditor />
  </div>
</template>

<script lang="ts" setup>
import ImageUploader from '@/components/ImageUploader.vue'
import ChatEditor from '@/components/ChatEditor.vue'
import { ref } from 'vue'
import { useDeviceStore } from '@/stores/device'
// import '@/utils/doubBaoRequest'
import '@/utils/gptRequest'
const store = useDeviceStore()

const handleUploadedFile = (file: File) => {
  console.log('æ”¶åˆ°ä¸Šä¼ çš„æ–‡ä»¶:', file)
  // åç»­å¤„ç†ï¼Œå¦‚ OCRã€ä¸Šä¼ è‡³æœåŠ¡å™¨ç­‰
}

// console.log(store.getters.deviceType)
</script>

<style lang="scss" scoped>
.a {
  overflow: hidden;
  padding: 0 25%;
  width: 100%;
  height: 300px;

  v-deep .filepond--root .filepond--drop-label {
    height: 100%;
  }
}
.b {
  width: 100%;
  background-color: pink;
}
</style>
